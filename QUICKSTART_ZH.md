# POS 收银系统 - 快速入门指南

## 🚀 5分钟快速开始

### 第一步：初始化数据库（2分钟）

1. **打开应用** - 应用启动后显示 POS 主页面
2. **点击工具栏按钮** - 右上角有一个 **⚙️ 按钮**（开发者菜单）
3. **初始化数据库** - 点击"初始化数据库"按钮
4. **等待完成** - 系统自动插入 30+ 商品数据

> 💡 **提示**: 数据只在数据库为空时插入一次。之后可通过"重置数据库"按钮重新插入。

### 第二步：浏览和添加商品（2分钟）

1. **搜索商品** - 在左侧搜索框输入商品名称（如"汉堡"）
2. **查看商品** - 卡片显示商品名称、价格、条码和库存
3. **添加购物车** - 点击"加入购物车"按钮
4. **查看购物车** - 右侧购物车显示已添加商品

### 第三步：调整数量和结账（1分钟）

1. **调整数量** - 购物车项目的 +/- 按钮调整数量
2. **删除商品** - 点击红色删除按钮移除商品
3. **查看总额** - 下方显示小计、折扣、总计
4. **点击结账** - "结 账"按钮跳转支付页面

---

## 📱 核心功能快速参考

### 商品管理
| 操作 | 步骤 |
|------|------|
| **搜索商品** | 在搜索框输入名称 → 列表自动过滤 |
| **按分类浏览** | （未来功能）分类标签点击过滤 |
| **查看库存** | 商品卡片右上角显示库存状态 |
| **快速扫码** | 点击"扫 码"按钮进入扫码模式 |

### 购物车操作
| 操作 | 步骤 |
|------|------|
| **修改数量** | 购物车行的 +/- 按钮 |
| **删除商品** | 红色删除按钮 |
| **清空购物车** | 右下"清 空"按钮 |
| **查看金额** | 下方订单摘要卡片 |

### 支付流程
| 步骤 | 操作 |
|------|------|
| **1. 结账** | 点击"结 账"按钮 |
| **2. 选择支付方式** | 现金/卡/移动支付 |
| **3. 确认金额** | 显示应收金额 |
| **4. 打印收据** | 自动打印或手动打印 |
| **5. 返回主页** | 订单完成，可继续收银 |

---

## 💾 开发者菜单详解

### 访问方式
**POS 主页面** → **右上角 ⚙️ 按钮** → **开发者菜单**

### 功能列表

#### 1. 初始化数据库
```
用途: 首次使用时填充模拟数据
效果: 插入 30+ 商品（食品、饮料、零食等）
条件: 仅当数据库为空时执行
```

#### 2. 重置数据库
```
用途: 清除现有数据，恢复初始状态
警告: ⚠️ 此操作不可撤销！删除所有订单、购物车
确认: 需要弹窗二次确认
```

#### 3. 刷新统计信息
```
用途: 查看数据库统计
显示:
  - 商品总数
  - 激活商品数
  - 商品分类数
  - 总库存数
  - 按分类的详细统计
```

#### 4. 添加热门商品
```
用途: 快速添加热销商品
范围: 价格 10-50 元之间的商品
数量: 约 15+ 个商品
```

#### 5. 清空购物车
```
用途: 清除默认购物车的所有商品
范围: 仅清除默认购物车
```

---

## 🎨 UI 组件介绍

### 商品卡片
```
┌─────────────────────────┐
│ [标签] ◆ 库存: 50      │
│                         │
│ 商品名称                │
│ ¥25.00 [购物车图标]     │
│ ℹ 条码: 6901234567890  │
│                         │
│ [+ 加入购物车]          │
└─────────────────────────┘
```

**特性**:
- 分类标签 - 不同颜色的分类徽章
- 库存指示 - 绿(>50)/黄(>10)/红(≤10)
- 价格显示 - 渐变背景凸显价格
- 库存状态 - "加入购物车"或"缺货"

### 购物车行
```
商品名称
¥25.00 × 2 = ¥50.00

[-] [2] [+] [删除]
```

**特性**:
- 滑动删除动画
- 数量快速调整
- 小计自动计算
- 删除有过渡动画

### 订单摘要
```
商品数量:  2 件
小计:      ¥50.00
折扣 (10%): -¥5.00
────────────────
总计:      ¥45.00
```

**特性**:
- 实时计算
- 支持折扣显示
- 醒目的总计强调

---

## 🔄 工作流程示例

### 场景 1：快速结账（无折扣）
```
1. 打开应用 → POS 主页面
2. 搜索"三明治" → 结果显示
3. 点击"加入购物车" → 添加成功
4. 购物车显示商品 → 数量默认为 1
5. 点击"结 账" → 跳转支付页面
6. 选择"现金" → 支付方式确定
7. 点击"确认支付" → 打印订单
8. 返回 POS 主页 → 订单完成
```

### 场景 2：多件商品+折扣
```
1. 添加"汉堡套餐" × 2
2. 添加"可口可乐" × 1
3. 购物车显示 3 件商品
4. 输入折扣 10% → 金额自动减少
5. 点击"结 账" → 进入支付
6. 支付完成
```

### 场景 3：修改订单
```
1. 添加多个商品到购物车
2. 发现数量错误 → 使用 +/- 调整
3. 选错商品 → 点击删除按钮移除
4. 继续调整直到满意 → 结账
```

---

## 📊 数据模拟说明

### 预置商品分类

#### 🍔 食品 (10个)
- 三明治套餐 ¥25.00
- 汉堡套餐 ¥35.00
- 炸鸡套餐 ¥42.00
- 披萨（9寸） ¥58.00
- 意大利面 ¥32.00
- 寿司拼盘 ¥68.00
- 沙拉碗 ¥28.00
- 牛排套餐 ¥88.00
- 拉面 ¥38.00
- 炒饭套餐 ¥22.00

#### 🥤 饮料 (8个)
- 可口可乐 ¥5.00
- 雪碧 ¥5.00
- 橙汁 ¥12.00
- 矿泉水 ¥3.00
- 奶茶 ¥15.00
- 咖啡 ¥18.00
- 酸奶 ¥8.00
- 绿茶 ¥6.00

#### 🍿 零食 (6个)
- 薯片 ¥8.50
- 巧克力 ¥12.00
- 饼干 ¥10.00
- 坚果 ¥18.00
- 口香糖 ¥5.50
- 糖果 ¥15.00

#### 🧻 日用品 (3个)
- 纸巾 ¥12.00
- 湿巾 ¥15.00
- 口罩 ¥25.00

#### 📱 电子产品 (2个)
- 充电宝 ¥89.00
- 数据线 ¥29.00

#### 📝 文具 (1个)
- 笔记本 ¥12.00

---

## ⌨️ 快捷操作

### 顶部工具栏
```
┌─────────────────────────────┐
│ 🔄  POS 收银系统  ⚙️         │
└─────────────────────────────┘
  ↑                         ↑
  刷新按钮                开发者菜单
```

### 右侧购物车操作
```
┌─────────────────────┐
│ 购物车              │
├─────────────────────┤
│ 商品 1  [+] [2] [-] │
│ 商品 2  [+] [1] [-] │
├─────────────────────┤
│ 订单摘要            │
│ 总计: ¥100.00      │
├─────────────────────┤
│ [  清 空  ] [结账] │
│ [   扫 码    ]     │
└─────────────────────┘
```

---

## 🐛 常见问题速查

| 问题 | 解决方案 |
|------|---------|
| **打开应用看不到商品** | 点击开发者菜单 → 初始化数据库 |
| **商品显示"缺货"** | 库存为 0 → 开发者菜单 → 重置数据库 |
| **无法添加到购物车** | 检查库存状态，缺货商品无法添加 |
| **想重新开始** | 开发者菜单 → 重置数据库（注意：清除所有数据）|
| **忘记支付方式** | 支付页面显示所有支付方式选项 |

---

## 🔧 技术细节（开发者）

### 架构模式
- **MVI (Model-View-Intent)** - 单向数据流
- **Jetpack Compose** - 声明式 UI
- **MVVM** - 视图与逻辑分离

### 数据库
- **Room ORM** - 本地数据持久化
- **6 个实体表** - Product, Cart, Order, OrderItem, Transaction, PrintJob
- **Flow** - 响应式数据流

### 状态管理
- **StateFlow** - UI 状态容器
- **Coroutines** - 异步操作
- **Hilt** - 依赖注入

---

## 📚 深入学习

### 了解更多
- 查看 `README_ZH.md` - 完整技术文档
- 查看代码注释 - 每个组件都有 KDoc 文档
- 查看开发指南 - 学习如何扩展功能

### 开发资源
```
开发语言: Kotlin 2.0.0
最小 API: 26 (Android 8.0)
编译 SDK: 35
JVM 目标: 11
```

---

## ✅ 清单

- [x] 初始化数据库
- [x] 浏览商品列表
- [x] 搜索商品
- [x] 添加购物车
- [x] 调整数量
- [x] 查看订单摘要
- [x] 进行支付
- [x] 完成订单
- [ ] 打印收据（需硬件）
- [ ] 查看订单历史（待实现）

---

**祝您使用愉快！如有问题，请查看完整文档或开发者菜单中的统计信息。**

最后更新: 2025-12-10
